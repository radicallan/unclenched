<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>ORACLE PRO v6.0 — Rescue Mode</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    :root {
      --bg: #05050a;
      --bg-soft: #0b0b15;
      --bg-softer: #111120;
      --accent: #7b5cff;
      --accent-soft: rgba(123, 92, 255, 0.2);
      --accent-strong: #b79dff;
      --text: #f5f5ff;
      --text-soft: #b5b7d0;
      --border-subtle: rgba(255, 255, 255, 0.06);
      --danger: #ff4f7b;
      --shadow-soft: 0 18px 40px rgba(0, 0, 0, 0.6);
      --radius-xl: 24px;
      --radius-pill: 999px;
      --transition-fast: 150ms ease-out;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      min-height: 100vh;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text",
        "Segoe UI", sans-serif;
      background: radial-gradient(circle at top, #181848 0, #05050a 55%);
      color: var(--text);
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }

    .shell {
      width: 100%;
      max-width: 980px;
      background: linear-gradient(145deg, rgba(255,255,255,0.02), transparent);
      border-radius: 32px;
      border: 1px solid rgba(255, 255, 255, 0.06);
      padding: 24px;
      box-shadow: var(--shadow-soft);
      backdrop-filter: blur(28px);
      position: relative;
      overflow: hidden;
    }

    .shell::before {
      content: "";
      position: absolute;
      inset: -40%;
      background:
        radial-gradient(circle at 0% 0%, rgba(123, 92, 255, 0.18), transparent 55%),
        radial-gradient(circle at 100% 100%, rgba(255, 79, 123, 0.12), transparent 60%);
      opacity: 0.7;
      pointer-events: none;
      mix-blend-mode: screen;
    }

    .shell-inner {
      position: relative;
      z-index: 1;
    }

    header {
      display: flex;
      align-items: flex-start;
      justify-content: space-between;
      gap: 16px;
      margin-bottom: 20px;
    }

    .title-block {
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .badge-row {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      align-items: center;
      margin-bottom: 4px;
    }

    .badge {
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      padding: 4px 10px;
      border-radius: var(--radius-pill);
      border: 1px solid rgba(255, 255, 255, 0.08);
      background: rgba(0, 0, 0, 0.4);
      color: var(--text-soft);
    }

    .badge.accent {
      border-color: var(--accent);
      background: rgba(123, 92, 255, 0.16);
      color: var(--accent-strong);
    }

    h1 {
      font-size: 22px;
      letter-spacing: 0.09em;
      text-transform: uppercase;
      color: var(--text);
    }

    .subtitle {
      font-size: 13px;
      color: var(--text-soft);
    }

    .status-pill {
      font-size: 11px;
      padding: 5px 12px;
      border-radius: var(--radius-pill);
      border: 1px solid rgba(255, 255, 255, 0.12);
      background: rgba(3, 190, 140, 0.12);
      color: #89f5d2;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      white-space: nowrap;
    }

    .status-dot {
      width: 7px;
      height: 7px;
      border-radius: 999px;
      background: #89f5d2;
      box-shadow: 0 0 10px rgba(137, 245, 210, 0.9);
    }

    main {
      display: grid;
      grid-template-columns: minmax(0, 2.1fr) minmax(0, 1.4fr);
      gap: 18px;
    }

    @media (max-width: 780px) {
      .shell {
        padding: 18px;
        border-radius: 24px;
      }
      header {
        flex-direction: column;
        align-items: flex-start;
      }
      main {
        grid-template-columns: 1fr;
      }
    }

    /* Left: question + reading */
    .panel {
      background: radial-gradient(circle at top left, rgba(255,255,255,0.04), transparent 50%);
      border-radius: var(--radius-xl);
      padding: 18px 18px 16px;
      border: 1px solid var(--border-subtle);
    }

    .panel-header {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      margin-bottom: 8px;
      gap: 16px;
    }

    .panel-title {
      font-size: 13px;
      text-transform: uppercase;
      letter-spacing: 0.14em;
      color: var(--text-soft);
    }

    .panel-sub {
      font-size: 11px;
      color: var(--text-soft);
    }

    label {
      display: block;
      font-size: 12px;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      color: var(--text-soft);
      margin-bottom: 6px;
    }

    .input-row {
      display: flex;
      gap: 10px;
      margin-bottom: 10px;
    }

    .input-row textarea {
      flex: 1;
    }

    textarea {
      resize: vertical;
      min-height: 60px;
      max-height: 140px;
      border-radius: 16px;
      border: 1px solid rgba(255, 255, 255, 0.16);
      background: rgba(3, 4, 20, 0.9);
      color: var(--text);
      padding: 10px 12px;
      font-size: 13px;
      line-height: 1.35;
      outline: none;
      box-shadow: inset 0 0 0 1px transparent;
      transition: border-color var(--transition-fast),
        box-shadow var(--transition-fast),
        background var(--transition-fast);
    }

    textarea::placeholder {
      color: rgba(181, 183, 208, 0.7);
    }

    textarea:focus {
      border-color: var(--accent);
      box-shadow: 0 0 0 1px rgba(123, 92, 255, 0.6);
      background: rgba(3, 4, 20, 0.98);
    }

    button {
      border: none;
      cursor: pointer;
      font: inherit;
    }

    .primary-btn {
      align-self: flex-end;
      padding: 10px 14px;
      border-radius: 18px;
      background: linear-gradient(135deg, var(--accent), #ff4f7b);
      color: white;
      font-size: 12px;
      letter-spacing: 0.14em;
      text-transform: uppercase;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      white-space: nowrap;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.7);
      transition: transform var(--transition-fast),
        box-shadow var(--transition-fast),
        filter var(--transition-fast),
        opacity var(--transition-fast);
    }

    .primary-btn span.symbol {
      font-size: 14px;
      transform: translateY(-1px);
    }

    .primary-btn:hover {
      transform: translateY(-1px);
      filter: brightness(1.05);
      box-shadow: 0 16px 35px rgba(0, 0, 0, 0.85);
    }

    .primary-btn:active {
      transform: translateY(0);
      box-shadow: 0 8px 18px rgba(0, 0, 0, 0.8);
    }

    .primary-btn:disabled {
      opacity: 0.6;
      cursor: wait;
    }

    .reading-block {
      margin-top: 8px;
      border-radius: 18px;
      background: linear-gradient(
        135deg,
        rgba(2, 5, 26, 0.85),
        rgba(8, 10, 35, 0.95)
      );
      border: 1px solid rgba(255, 255, 255, 0.04);
      padding: 10px 12px 11px;
      display: grid;
      grid-template-columns: minmax(0, 1.4fr) minmax(0, 2fr);
      gap: 12px;
      align-items: center;
    }

    @media (max-width: 640px) {
      .reading-block {
        grid-template-columns: 1fr;
      }
    }

    .words-row {
      display: flex;
      gap: 6px;
      justify-content: center;
      align-items: stretch;
    }

    .word-card {
      flex: 1;
      border-radius: 14px;
      padding: 10px 6px 8px;
      text-align: center;
      background: radial-gradient(
          circle at top,
          rgba(123, 92, 255, 0.25),
          transparent 65%
        ),
        radial-gradient(circle at bottom, rgba(2, 4, 30, 0.9), #020316);
      border: 1px solid rgba(255, 255, 255, 0.12);
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.65);
      position: relative;
      overflow: hidden;
    }

    .word-card::after {
      content: "";
      position: absolute;
      inset: 0;
      background: linear-gradient(
        135deg,
        transparent 0,
        rgba(255, 255, 255, 0.06) 40%,
        transparent 100%
      );
      mix-blend-mode: soft-light;
      opacity: 0.9;
      pointer-events: none;
    }

    .word-label {
      font-size: 9px;
      text-transform: uppercase;
      letter-spacing: 0.14em;
      color: rgba(227, 225, 255, 0.65);
      margin-bottom: 4px;
    }

    .word-text {
      font-size: 17px;
      font-weight: 600;
      letter-spacing: 0.18em;
      text-transform: uppercase;
      color: #ffffff;
      white-space: nowrap;
    }

    .interpretation {
      font-size: 12px;
      color: var(--text-soft);
      line-height: 1.5;
    }

    .interpretation strong {
      color: var(--accent-strong);
      font-weight: 500;
    }

    .hint-row {
      margin-top: 6px;
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      gap: 12px;
      font-size: 11px;
      color: rgba(181, 183, 208, 0.8);
    }

    .hint-row span.key {
      font-family: "SF Mono", ui-monospace, Menlo, Consolas, monospace;
      font-size: 10px;
      padding: 2px 6px;
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.14);
      background: rgba(4, 6, 30, 0.9);
    }

    /* Right: history */
    .side-panel {
      background: radial-gradient(circle at top right, rgba(255,255,255,0.04), transparent 60%);
      border-radius: var(--radius-xl);
      padding: 14px 14px 10px;
      border: 1px solid var(--border-subtle);
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .side-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 12px;
    }

    .side-title {
      font-size: 12px;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      color: var(--text-soft);
    }

    .side-meta {
      font-size: 11px;
      color: rgba(181, 183, 208, 0.9);
    }

    .history-list {
      list-style: none;
      max-height: 260px;
      overflow: auto;
      padding-right: 4px;
      margin-top: 4px;
    }

    .history-empty {
      font-size: 11px;
      color: var(--text-soft);
      opacity: 0.8;
      padding: 4px 0 2px;
    }

    .history-item {
      border-radius: 12px;
      padding: 7px 8px 6px;
      border: 1px solid rgba(255, 255, 255, 0.04);
      background: rgba(7, 7, 22, 0.9);
      margin-bottom: 4px;
    }

    .history-top {
      display: flex;
      justify-content: space-between;
      gap: 8px;
      align-items: baseline;
      margin-bottom: 2px;
    }

    .history-time {
      font-size: 10px;
      color: rgba(181, 183, 208, 0.85);
      white-space: nowrap;
      font-family: "SF Mono", ui-monospace, Menlo, Consolas, monospace;
    }

    .history-question {
      font-size: 11px;
      color: var(--text);
      opacity: 0.9;
    }

    .history-words {
      font-size: 10px;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      color: rgba(181, 183, 208, 0.95);
      margin-top: 3px;
    }

    .history-words span.tag {
      padding: 1px 7px;
      border-radius: 999px;
      background: rgba(12, 12, 36, 0.9);
      border: 1px solid rgba(255, 255, 255, 0.09);
    }

    .history-note {
      font-size: 10px;
      color: rgba(181, 183, 208, 0.8);
      margin-top: 3px;
    }

    footer {
      margin-top: 12px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 10px;
      color: rgba(181, 183, 208, 0.7);
      gap: 10px;
    }

    .foot-left {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
    }

    .foot-pill {
      padding: 3px 8px;
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.14);
      background: rgba(5, 6, 26, 0.9);
    }

    .foot-right {
      text-align: right;
      max-width: 260px;
    }

    .foot-right strong {
      color: var(--accent-strong);
      font-weight: 500;
    }
  </style>
</head>
<body>
  <div class="shell">
    <div class="shell-inner">
      <header>
        <div class="title-block">
          <div class="badge-row">
            <div class="badge accent">ORACLE PRO v6.0</div>
            <div class="badge">Rescue Mode</div>
          </div>
          <h1>Resonance &amp; Lexical Field Scanner</h1>
          <p class="subtitle">
            Ask a focused question, then let the field collapse into three signal-words.
          </p>
        </div>
        <div class="status-pill" aria-live="polite">
          <span class="status-dot"></span>
          Channel idle · ready
        </div>
      </header>

      <main>
        <!-- LEFT: Question & Reading -->
        <section class="panel" aria-label="Oracle input and reading">
          <div class="panel-header">
            <div>
              <div class="panel-title">Input</div>
              <div class="panel-sub">Phrase it like a real situation, not a yes/no quiz.</div>
            </div>
          </div>

          <label for="oracle-question">Focus / situation</label>
          <div class="input-row">
            <textarea
              id="oracle-question"
              placeholder="Example: &quot;Guidance on how to handle the job interview and my nerves around it.&quot;"
            ></textarea>
            <button id="generate-btn" class="primary-btn" type="button">
              <span class="symbol">◎</span>
              <span>Generate&nbsp;reading</span>
            </button>
          </div>

          <div class="reading-block" aria-live="polite">
            <div class="words-row" id="words-row">
              <div class="word-card">
                <div class="word-label">Signal 01</div>
                <div class="word-text" id="word-1">—</div>
              </div>
              <div class="word-card">
                <div class="word-label">Signal 02</div>
                <div class="word-text" id="word-2">—</div>
              </div>
              <div class="word-card">
                <div class="word-label">Signal 03</div>
                <div class="word-text" id="word-3">—</div>
              </div>
            </div>
            <div class="interpretation" id="interpretation">
              Type a situation above and press <strong>Generate reading</strong>.
              You'll get three words: treat them like a digital tarot spread and notice
              what they poke at in you.
            </div>
          </div>

          <div class="hint-row">
            <div>
              Press <span class="key">Ctrl</span> + <span class="key">Enter</span> to re-cast.
            </div>
            <div>Same question + new cast = checking the pattern, not “right vs wrong”.</div>
          </div>
        </section>

        <!-- RIGHT: History -->
        <aside class="side-panel" aria-label="Recent readings">
          <div class="side-header">
            <div class="side-title">Recent casts</div>
            <div class="side-meta" id="history-meta">0 stored · latest at —</div>
          </div>
          <ul class="history-list" id="history-list">
            <li class="history-empty" id="history-empty">
              No casts yet. Your last 10 questions + words will show here.
            </li>
          </ul>
        </aside>
      </main>

      <footer>
        <div class="foot-left">
          <div class="foot-pill">Self-reflection tool · not a promise machine</div>
          <div class="foot-pill">For experimentation &amp; pattern-spotting only</div>
        </div>
        <div class="foot-right">
          The “meaning” happens in how <strong>you</strong> feel when you look at the words,
          not inside the code.
        </div>
      </footer>
    </div>
  </div>

  <script>
    // --- CORE WORDSET ---
    // You can freely edit / extend this list.
    const CORE_WORDS = [
      "ABOUT", "ABOVE", "ACROSS", "ACCEPT", "ACCESS", "ACTION", "ADAPT",
      "AFTER", "AGAIN", "AGAINST", "ALIGN", "ALLOW", "ALONE", "ALREADY",
      "ALWAYS", "AMOUNT", "ANCHOR", "ANSWER", "ANYONE", "ANYTHING",
      "APPEAR", "APPLY", "AROUND", "ASK", "ASSIST", "ATTEND", "AWARE",
      "BALANCE", "BEGIN", "BELOW", "BETWEEN", "BOLD", "BREAK", "BRIDGE",
      "BUILD", "CALM", "CHANGE", "CHOOSE", "CIRCLE", "CLARIFY", "CLOSE",
      "COMFORT", "COMMIT", "COMMON", "COMPLETE", "CONNECT", "CONTAIN",
      "COURAGE", "CREATE", "DECIDE", "DEEPEN", "DELAY", "DETAIL", "DIRECT",
      "DISTANCE", "DOUBT", "EASY", "ECHO", "EDGE", "EFFORT", "EMERGE",
      "EMOTION", "ENERGY", "ENOUGH", "ENTER", "EQUAL", "ESSENTIAL",
      "EVIDENCE", "EXACT", "EXPAND", "EXPERIENCE", "EXPOSE", "FAITH",
      "FOCUS", "FOLLOW", "FORCE", "FORWARD", "FRAME", "FREQUENCY",
      "GATHER", "GENTLE", "GROUND", "GROW", "HABIT", "HIDDEN", "HOLD",
      "HONEST", "IMPACT", "INSIDE", "INTEND", "INVITE", "JUDGEMENT",
      "KEEP", "KIND", "KNOW", "LEARN", "LEAVE", "LIMIT", "LISTEN",
      "MEASURE", "MEET", "MOVE", "NEAR", "NOTICE", "OFFER", "OPEN",
      "ORDER", "OVER", "OWN", "PAUSE", "PATTERN", "PEACE", "POSSIBLE",
      "POWER", "PRESENT", "PRESSURE", "PROTECT", "PULL", "PURPOSE",
      "QUESTION", "QUIET", "RECEIVE", "REPEAT", "RESIST", "RESOLVE",
      "REST", "RISK", "RITUAL", "SAY", "SEE", "SHIFT", "SHOW", "SIGNAL",
      "SILENCE", "SIMPLE", "SPACE", "SPEAK", "STAND", "STAY", "STEP",
      "STILL", "STRENGTH", "TENSION", "THROUGH", "TOWARD", "TRUST",
      "TRUTH", "UNDER", "UNDERSTAND", "UNTIL", "VALUE", "WAIT", "WARMTH",
      "WITHIN", "WITHOUT", "WORTH"
    ];

    const questionInput = document.getElementById("oracle-question");
    const generateBtn = document.getElementById("generate-btn");
    const wordEls = [
      document.getElementById("word-1"),
      document.getElementById("word-2"),
      document.getElementById("word-3")
    ];
    const interpretationEl = document.getElementById("interpretation");
    const historyListEl = document.getElementById("history-list");
    const historyEmptyEl = document.getElementById("history-empty");
    const historyMetaEl = document.getElementById("history-meta");

    let history = [];

    function randomInt(max) {
      return Math.floor(Math.random() * max);
    }

    function pickUniqueWords(count) {
      const words = [];
      const used = new Set();
      const total = CORE_WORDS.length;

      while (words.length < count && words.length < total) {
        const idx = randomInt(total);
        const word = CORE_WORDS[idx];
        if (!used.has(word)) {
          used.add(word);
          words.push(word);
        }
      }
      return words;
    }

    function formatTime(date) {
      return date.toLocaleTimeString(undefined, {
        hour: "2-digit",
        minute: "2-digit"
      });
    }

    function generateInterpretation(words, question) {
      if (!words || words.length === 0) return "";

      const lower = words.map(w => w.toLowerCase());
      const base =
        `The field collapsed around ` +
        `${lower[0]}, ${lower[1]} and ${lower[2]}.`;

      const angle = question
        ? ` In relation to “${question}”, notice where these themes are already alive: what you keep circling, avoiding, or feeling pulled toward.`
        : ` Notice where these themes are already alive in what you keep circling, avoiding, or feeling pulled toward today.`;

      const nudge =
        ` If one of the words annoys you or feels “off”, that tension is part of the reading—sit with it before you recast.`;

      return base + angle + nudge;
    }

    function renderHistory() {
      historyListEl.innerHTML = "";
      if (history.length === 0) {
        historyListEl.appendChild(historyEmptyEl);
        historyEmptyEl.style.display = "block";
        historyMetaEl.textContent = "0 stored · latest at —";
        return;
      }

      historyEmptyEl.style.display = "none";

      history.forEach(entry => {
        const li = document.createElement("li");
        li.className = "history-item";

        const top = document.createElement("div");
        top.className = "history-top";

        const q = document.createElement("div");
        q.className = "history-question";
        q.textContent = entry.question || "No question (free cast)";

        const time = document.createElement("time");
        time.className = "history-time";
        time.textContent = entry.timeLabel;

        top.appendChild(q);
        top.appendChild(time);

        const words = document.createElement("div");
        words.className = "history-words";
        const tag = document.createElement("span");
        tag.className = "tag";
        tag.textContent = entry.words.join(" · ");
        words.appendChild(tag);

        const note = document.createElement("div");
        note.className = "history-note";
        note.textContent = entry.question
          ? "Glance back after today and see which word actually hit."
          : "Free-cast: see what this ended up matching in your day.";

        li.appendChild(top);
        li.appendChild(words);
        li.appendChild(note);

        historyListEl.appendChild(li);
      });

      const latest = history[0];
      historyMetaEl.textContent =
        `${history.length} stored · latest at ${latest.timeLabel}`;
    }

    function castOracle() {
      if (generateBtn.disabled) return;

      generateBtn.disabled = true;

      const question = questionInput.value.trim();
      const words = pickUniqueWords(3);

      // Visual update
      words.forEach((w, idx) => {
        wordEls[idx].textContent = w || "—";
      });

      const text = generateInterpretation(words, question);
      interpretationEl.textContent = text;

      // History (store newest at top, keep max 10)
      const now = new Date();
      history.unshift({
        time: now,
        timeLabel: formatTime(now),
        question,
        words
      });
      if (history.length > 10) history = history.slice(0, 10);

      renderHistory();

      // Small delay so the disabled state is perceptible
      setTimeout(() => {
        generateBtn.disabled = false;
      }, 250);
    }

    generateBtn.addEventListener("click", castOracle);

    questionInput.addEventListener("keydown", event => {
      if (event.key === "Enter" && (event.ctrlKey || event.metaKey)) {
        event.preventDefault();
        castOracle();
      }
    });

    // Initial render
    renderHistory();
  </script>
</body>
</html>

